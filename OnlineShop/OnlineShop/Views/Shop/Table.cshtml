@model List<Item>

@{
    ViewData["Title"] = "Catalog";
}

@if (TempData["Success"] != null)
{
 <p class="alert alert-success" id="successMessage">@TempData["Success"]</p>
}

<form>
    <div class="grid-wrapper">
        @{
            foreach (Item item in Model)
            {
                    <div class="grid-item">
                        @{
                        var base64 = Convert.ToBase64String(item.Image);
                        var imgSrc = $"data:image/gif;base64,{base64}";
                        }

                        <img src="@imgSrc" class="item-img"/>
                        <span class="item-title">@item.Manufacturer.Title @item.Title</span>
                        <hr>
                        <span class="item-type">@item.Item_Code.Title</span>
                        <hr>
                        <b>Цена: @string.Format("{0:f2}", @item.Price)</b>
                        <a asp-controller="Shop" asp-action="Item" asp-route-itemId="@item.Id" class="more-info">Подробнее</a>
                        @if (item.Amount != 0)
                    {
                            <button name="button" class="basket-button" value="@item.Id" asp-action="CartAdd">Добавить в корзину</button>
                    } else
                    {
                             <p>Нет в наличии</p>
                    }
                    </div>
            }
        }
    </div>
</form>